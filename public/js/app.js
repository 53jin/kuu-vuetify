(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+VJP":function(e,t,n){"use strict";var i=n("//1f"),a=n("jKbj");t.a={mixins:[a.a],data:function(){return{model:"role",queries:{create:i.create,find:i.find,list:i.list,update:i.update}}}}},"//1f":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"IdName"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Role"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Role"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updated_at"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"find"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withPermissions"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"Role"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdName"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Ts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withPermissions"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"all"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"AllRoles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdName"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"list"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"Roles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"current_page"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"per_page"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdName"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Ts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"create"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateRoleInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"CreateRole"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdName"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Ts"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"update"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateRoleInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"UpdateRole"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdName"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Ts"},directives:[]}]}}]}}],loc:{start:0,end:793}};n.loc.source={body:"fragment IdName on Role {\r\n    id, name\r\n}\r\nfragment Ts on Role {\r\n    created_at, updated_at\r\n}\r\n\r\nquery find($id: Int!, $withPermissions: Boolean = false) {\r\n    data: Role(id: $id) {\r\n        ...IdName, ...Ts\r\n        permissions @include(if: $withPermissions) {\r\n            name\r\n        }\r\n    }\r\n}\r\n\r\nquery all {\r\n    data: AllRoles {\r\n        ...IdName\r\n    }\r\n}\r\n\r\nquery list($query: QueryInput) {\r\n    data: Roles(query: $query) {\r\n        total, current_page, per_page,\r\n        data {\r\n            ...IdName, ...Ts\r\n        }\r\n    }\r\n}\r\n\r\nmutation create($input: CreateRoleInput!) {\r\n    data: CreateRole(input: $input) {\r\n        ...IdName, ...Ts\r\n    }\r\n}\r\n\r\nmutation update($input: UpdateRoleInput!) {\r\n    data: UpdateRole(input: $input) {\r\n        ...IdName, ...Ts\r\n    }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.find=r(n,"find"),e.exports.all=r(n,"all"),e.exports.list=r(n,"list"),e.exports.create=r(n,"create"),e.exports.update=r(n,"update")},0:function(e,t,n){n("bUC5"),e.exports=n("pyCd")},"1fMV":function(e,t,n){"use strict";n.r(t);var i=n("AFkt"),a={props:["id","password"],data:function(){return{isLoading:!1,isHandling:!1,userFormData:{first_name:null,last_name:null,password:null},userData:{email:null}}},computed:{publisherDetail:function(){return!this.id}},watch:{isLoading:function(e){this.$emit("loading",e)},isHandling:function(e){this.$emit("handing",e)}},mounted:function(){this.fetchData()},methods:{submit:function(){this.$refs.submit.click()},onItemSaved:function(){this.appMessageSuccess("Successfully saved."),this.redirectToUrl("account")},fetchData:function(){var e=this;e.isLoading=!0,e.$query(i.FindMeAndApp,{withApp:!1},(function(t){var n=t.me;e.userFormData=_.assignPick(e.userFormData,n),e.userData=_.assignPick(e.userData,n)})).finally((function(t){return e.isLoading=!1}))},onFormSubmit:function(){var e=this;e.isHandling=!0,e.$mutate(i.UpdateUser,{data:e.userFormData},{form:e.$refs.form,success:function(){e.appMessageSuccess("Successfully saved."),e.$emit("saved")}}).finally((function(){return e.isHandling=!1}))}}},r=n("KHd+"),s={data:function(){return{isHandling:!1,labelPosition:"top",company_form:{name:null,user_id:null,company_name:null,company_url:null,company_country:null,company_city:null,company_address:null},tabActiveName:"company",country_list:"",response_data:null}},mounted:function(){},methods:{onItemSaved:function(){this.appMessageSuccess("Successfully saved.")},updatePublisherData:function(e){this.company_form=Object.assign({},this.company_form,e)},countryList:function(){var e=this;this.$api.get("common/countries",{}).then((function(t){e.isLoading=!1;var n=t.data.data;e.country_list=n}),(function(t){e.appResponseError(t)})).catch((function(t){e.appResponseError(t)})).finally((function(){}))},companyData:function(){var e=this;this.isLoading=!0,this.$api.get("account/show/company",{params:{}}).then((function(t){e.isLoading=!1;var n=t.data;e.updatePublisherData(n)}),(function(t){e.appResponseError(t)})).catch((function(t){e.appResponseError(t)})).finally((function(){}))},onSubmit:function(){var e=this;this.isHandling=!0,this.$api.post("account/update/company",this.company_form).then((function(t){e.onItemSaved()}),(function(t){e.appResponseError(t)})).catch((function(t){e.appResponseError(t)})).finally((function(){e.isHandling=!1}))}}},o={data:function(){return{breadcrumbs:[{text:"Account"}],isLoading:!1,tabActiveName:"profile"}},components:{TabProfile:Object(r.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mc-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.onFormSubmit(t)}}},[n("v-text-field",{attrs:{label:"First Name",counter:"25",required:""},model:{value:e.userFormData.first_name,callback:function(t){e.$set(e.userFormData,"first_name",t)},expression:"userFormData.first_name"}}),e._v(" "),n("v-text-field",{attrs:{label:"Last name",counter:"25",required:""},model:{value:e.userFormData.last_name,callback:function(t){e.$set(e.userFormData,"last_name",t)},expression:"userFormData.last_name"}}),e._v(" "),n("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:e.userFormData.password,callback:function(t){e.$set(e.userFormData,"password",t)},expression:"userFormData.password"}}),e._v(" "),e.publisherDetail?n("v-btn",{attrs:{color:"primary",type:"submit",loading:e.isHandling}},[e._v("Save")]):e._e(),e._v(" "),n("button",{ref:"submit",staticClass:"d-none",attrs:{type:"submit"}})],1)}),[],!1,null,null,null).exports,TabCompany:Object(r.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("v-text-field",{attrs:{label:"Company name"},model:{value:e.company_form.company_name,callback:function(t){e.$set(e.company_form,"company_name",t)},expression:"company_form.company_name"}}),e._v(" "),n("v-textarea",{attrs:{label:"Company address",rows:"3","auto-grow":""},model:{value:e.company_form.company_address,callback:function(t){e.$set(e.company_form,"company_address",t)},expression:"company_form.company_address"}}),e._v(" "),n("mc-countries-select",{attrs:{"item-value":"code"},model:{value:e.company_form.company_country,callback:function(t){e.$set(e.company_form,"company_country",t)},expression:"company_form.company_country"}}),e._v(" "),n("v-text-field",{attrs:{label:"Company city"},model:{value:e.company_form.company_city,callback:function(t){e.$set(e.company_form,"company_city",t)},expression:"company_form.company_city"}}),e._v(" "),n("v-text-field",{attrs:{label:"Company url",type:"url"},model:{value:e.company_form.company_url,callback:function(t){e.$set(e.company_form,"company_url",t)},expression:"company_form.company_url"}}),e._v(" "),n("v-btn",{attrs:{color:"primary",type:"submit",loading:e.isHandling}},[e._v("Save")])],1)}),[],!1,null,null,null).exports}},l=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mc-container",{attrs:{breadcrumbs:e.breadcrumbs}},[n("v-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[n("v-tab",{attrs:{href:"#profile"}},[e._v("Profile")]),e._v(" "),e.$root.isPublisher?n("v-tab",{attrs:{href:"#company"}},[e._v("Company")]):e._e(),e._v(" "),n("v-tab-item",{attrs:{value:"profile"}},[n("v-card-text",[n("tab-profile")],1)],1),e._v(" "),e.$root.isPublisher?n("v-tab-item",{attrs:{value:"company"}},[n("v-card-text",[n("tab-company")],1)],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=l.exports},"7W3H":function(e,t,n){"use strict";n.r(t);var i=n("GF9D"),a=n("fCLl"),r=n("v4en"),s={mixins:[a.a,r.a],data:function(){return{editor:i.a,filter_data:{status:1}}},watch:{"filter_data.status":function(){var e=this;this.$nextTick((function(){e.doRefreshTable()}))}},computed:{tableProps:function(){return{itemKey:this.pk,sortBy:"related_user_id",sortDesc:!0,headers:[{text:"User ID",value:"related_user_id",width:120},{text:"Status",value:"related_user.status"},{text:"User Name",value:"related_user.name"},{text:"Roles",value:"roles",sortable:!1},{text:"Email",value:"related_user.email"},{text:"Is AM",value:"is_am"},{text:"Is BD",value:"is_bd"}]}}},methods:{getDetailUrl:function(e){return this.url("organization/employees/".concat(e.id))},doAutoLogin:function(e){var t=this.$refs["alf:"+e.related_user_id];t&&t.submit()}}},o=n("KHd+"),l=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mc-container",{attrs:{breadcrumbs:e.breadcrumbs,urls:e.urls}},[n("mc-data-table",{ref:"table",attrs:{query:e.queries.list,"table-props":e.tableProps,apiParams:e.filter_data},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6",md:"4",lg:"2"}},[n("mc-status-select",{model:{value:e.filter_data.status,callback:function(t){e.$set(e.filter_data,"status",t)},expression:"filter_data.status"}})],1)],1)]},proxy:!0},{key:"item.related_user_id",fn:function(t){var i=t.item;return[n("span",{staticClass:"mr-1"},[e._v(e._s(i.related_user_id))]),e._v(" "),e.$canUpdate(i)?n("v-btn",{staticClass:"hover-action",attrs:{"x-small":"",icon:""},on:{click:function(t){return e.showEditor(i[e.pk])}}},[n("v-icon",[e._v("edit")])],1):e._e(),e._v(" "),e.$canUpdate(i)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("form",{ref:"alf:"+i.related_user_id,staticClass:"d-none",attrs:{action:e.url("login/"+i.related_user_id),method:"POST",target:"_blank"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.$root.csrfToken,expression:"$root.csrfToken"}],attrs:{type:"hidden",name:"_token"},domProps:{value:e.$root.csrfToken},on:{input:function(t){t.target.composing||e.$set(e.$root,"csrfToken",t.target.value)}}})]),e._v(" "),n("v-btn",e._g({staticClass:"hover-action",attrs:{"x-small":"",icon:"",type:"submit"},on:{click:function(t){return e.doAutoLogin(i)}}},a),[n("v-icon",[e._v("fas fa-sign-in-alt")])],1)]}}],null,!0)},[e._v("\n                Login\n            ")]):e._e()]}},{key:"item.related_user.status",fn:function(t){var i=t.item;return[n("mc-status",{attrs:{"bool-value":"","can-disable":e.$canDisable(i),"can-enable":e.$canEnable(i)},on:{change:function(t){return e.updateItem(i,{status:t})}},model:{value:i.related_user.status,callback:function(t){e.$set(i.related_user,"status",t)},expression:"item.related_user.status"}})]}},{key:"item.roles",fn:function(t){var i=t.value;return[n("v-chip-group",e._l(i,(function(t){return n("v-chip",{key:t.id,attrs:{color:"primary",small:""}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),1)]}},{key:"item.related_user.name",fn:function(t){var i=t.item;return[e.$canRead(i)?n("router-link",{attrs:{to:e.getDetailUrl(i)}},[e._v("\n                "+e._s(i.related_user.name)+"\n            ")]):[e._v("\n                "+e._s(i.related_user.name)+"\n            ")]]}},{key:"item.is_am",fn:function(t){var i=t.value;return[n("span",[e._v(e._s(i?"Yes":"No"))])]}},{key:"item.is_bd",fn:function(t){var i=t.value;return[n("span",[e._v(e._s(i?"Yes":"No"))])]}}])})],1)}),[],!1,null,null,null);t.default=l.exports},AFkt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FindMeAndApp"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withApp"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"me"},name:{kind:"Name",value:"Me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"im_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"im_contact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_owner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"employee"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"is_am"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_bd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"app"},name:{kind:"Name",value:"App"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withApp"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo_image_url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetImTypes"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"ImTypes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"UserInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"UpdateUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:452}};n.loc.source={body:"query FindMeAndApp($withApp: Boolean = false) {\n    me: Me {\n        id, status, email, name, first_name, last_name\n        im_type, im_contact, is_owner\n        employee {\n            is_am, is_bd, permissions\n        }\n    },\n    app: App @include(if: $withApp) {\n        name, logo_image_url\n    }\n}\n\nquery GetImTypes {\n    data: ImTypes{text, value}\n}\n\nmutation UpdateUser($data: UserInput) {\n    data: UpdateUser(data: $data) {\n        id\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.FindMeAndApp=r(n,"FindMeAndApp"),e.exports.GetImTypes=r(n,"GetImTypes"),e.exports.UpdateUser=r(n,"UpdateUser")},GF9D:function(e,t,n){"use strict";var i=n("//1f"),a={mixins:[n("fCLl").a],data:function(){return{input:{first_name:null,last_name:null,email:null,password:null,is_am:!1,is_bd:!1,role_ids:[]},roles:[]}},mounted:function(){this.localId&&this.find(),this.fetchRoleData()},computed:{passwordRule:function(){return this.localId?"min:8":"required|min:8"}},methods:{fetchRoleData:function(){var e=this;e.$query(i.all,(function(t){var n=t.data;e.roles=n}))},assignInput:function(e){_.assignPick(this.input,e,e.related_user),this.input.role_ids=_.map(e.roles,"id")}}},r=n("KHd+"),s=Object(r.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mc-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.onFormSubmit(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.invalid;return[n("mc-editor-dialog",{attrs:{loading:e.isLoading,handing:e.isHandling,disabled:e.isLoading||i,title:e.title},on:{save:e.onFormSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("mc-text-field",{attrs:{label:"First Name",counter:"15",required:"",rules:"required|max:15"},model:{value:e.input.first_name,callback:function(t){e.$set(e.input,"first_name",t)},expression:"input.first_name"}}),e._v(" "),n("mc-text-field",{attrs:{label:"Last Name",counter:"15",rules:"max:15"},model:{value:e.input.last_name,callback:function(t){e.$set(e.input,"last_name",t)},expression:"input.last_name"}}),e._v(" "),e._.get(e.item,"user.email_verified_at")?e._e():n("mc-text-field",{attrs:{type:"email",label:"Email",counter:"80",required:"",rules:"required|email|max:80"},model:{value:e.input.email,callback:function(t){e.$set(e.input,"email",t)},expression:"input.email"}}),e._v(" "),n("mc-text-field",{attrs:{label:"Password",rules:"passwordRule"},model:{value:e.input.password,callback:function(t){e.$set(e.input,"password",t)},expression:"input.password"}}),e._v(" "),n("v-select",{attrs:{label:"Roles",multiple:"",filterable:"",clearable:"",chips:"","deletable-chips":"","hide-details":"",items:e.roles,loading:!e.roles,"item-value":"id","item-text":"name"},model:{value:e.input.role_ids,callback:function(t){e.$set(e.input,"role_ids",t)},expression:"input.role_ids"}}),e._v(" "),n("v-checkbox",{attrs:{"hide-details":"",label:"Is AM","true-value":!0,"false-value":!1},model:{value:e.input.is_am,callback:function(t){e.$set(e.input,"is_am",t)},expression:"input.is_am"}}),e._v(" "),n("v-checkbox",{attrs:{label:"Is BD","true-value":!0,"false-value":!1},model:{value:e.input.is_bd,callback:function(t){e.$set(e.input,"is_bd",t)},expression:"input.is_bd"}})],1)]}}])})}),[],!1,null,null,null);t.a=s.exports},KOFX:function(e,t,n){"use strict";var i={mixins:[n("+VJP").a],data:function(){return{input:{name:null}}},mounted:function(){this.localId&&this.find()}},a=n("KHd+"),r=Object(a.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mc-editor-dialog",{attrs:{loading:e.isLoading,handing:e.isHandling,disabled:e.isLoading,title:e.title},on:{save:e.onFormSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("mc-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.onFormSubmit(t)}}},[n("mc-text-field",{attrs:{counter:"15",label:"Name",name:"name",rules:"required|max:15"},model:{value:e.input.name,callback:function(t){e.$set(e.input,"name",t)},expression:"input.name"}})],1)],1)}),[],!1,null,null,null);t.a=r.exports},PFq2:function(e,t,n){"use strict";n.r(t);var i=n("fCLl"),a=n("GF9D"),r={mixins:[i.a],data:function(){return{editor:a.a}},computed:{breadcrumbs:function(){return[{text:"Employees",href:"/organization/employees"},{text:"Detail"}]},urls:function(){var e=this;return{edit:function(){e.showEditor()}}}},mounted:function(){this.find()}},s=n("KHd+"),o=Object(s.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mc-container",{attrs:{breadcrumbs:e.breadcrumbs,urls:e.urls}},[n("v-card-text",[e.isLoading?n("v-skeleton-loader",{attrs:{type:"article"}}):e.item?n("v-simple-table",{staticClass:"mb-0"},[n("tbody",[n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("User ID")]),e._v(" "),n("td",[e._v("\n                    "+e._s(e.item.related_user_id)+"\n                    "),n("mc-clipboard",{staticClass:"hover-action",attrs:{text:e.item.related_user_id}})],1)]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("Status")]),e._v(" "),n("td",[n("mc-status",{attrs:{"bool-value":"","can-enable":e.canEnable,"can-disable":e.canDisable},on:{input:function(t){return e.updateItem(e.item,{status:t})}},model:{value:e.item.related_user.status,callback:function(t){e.$set(e.item.related_user,"status",t)},expression:"item.related_user.status"}})],1)]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("User Name")]),e._v(" "),n("td",[e._v(e._s(e.item.related_user.name))])]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("Roles")]),e._v(" "),n("td",[n("v-chip-group",e._l(e.item.roles,(function(t){return n("v-chip",{key:t.id,attrs:{color:"primary",small:""}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])})),1)],1)]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("Is AM")]),e._v(" "),n("td",[e._v(e._s(e.item.is_am))])]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("Is BD")]),e._v(" "),n("td",[e._v(e._s(e.item.is_bd))])]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("Created")]),e._v(" "),n("td",[e._v(e._s(e._f("formatLocalTime")(e.item.created_at)))])]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("Updated")]),e._v(" "),n("td",[e._v(e._s(e._f("formatLocalTime")(e.item.updated_at)))])])])]):e._e()],1)],1)}),[],!1,null,null,null);t.default=o.exports},VPAf:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Data"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Employee"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related_user_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_am"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_bd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updated_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"related_user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"create"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateEmployeeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"CreateEmployee"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Data"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"update"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateEmployeeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"UpdateEmployee"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Data"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendInviteEmail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"SendInviteEmail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"find"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"Employee"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Data"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"all"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"AllEmployees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"related_user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"list"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"Employees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"current_page"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"per_page"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Data"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetEmployeePermissions"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"data"},name:{kind:"Name",value:"EmployeePermissions"},arguments:[],directives:[]}]}}],loc:{start:0,end:963}};n.loc.source={body:"fragment Data on Employee {\n    id user_id related_user_id is_am is_bd created_at updated_at\n    user {\n        id name\n    }\n    related_user {\n        id name first_name last_name email status email_verified_at\n    }\n    roles {\n        id name\n    }\n}\n\nmutation create($input: CreateEmployeeInput!) {\n    data: CreateEmployee(input: $input) {\n        ...Data\n    }\n}\n\nmutation update($input: UpdateEmployeeInput!) {\n    data: UpdateEmployee(input: $input) {\n        ...Data\n    }\n}\n\nmutation SendInviteEmail($id: Int!) {\n    data: SendInviteEmail(id: $id)\n}\n\nquery find($id: Int!) {\n    data: Employee(id: $id) {\n        ...Data\n    }\n}\n\nquery all {\n    data: AllEmployees {\n        related_user {\n            id name\n        }\n    }\n}\n\nquery list($query: QueryInput) {\n    data: Employees(query: $query) {\n        total current_page per_page\n        data {\n            ...Data\n        }\n    }\n}\n\nquery GetEmployeePermissions {\n    data: EmployeePermissions\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.create=r(n,"create"),e.exports.update=r(n,"update"),e.exports.SendInviteEmail=r(n,"SendInviteEmail"),e.exports.find=r(n,"find"),e.exports.all=r(n,"all"),e.exports.list=r(n,"list"),e.exports.GetEmployeePermissions=r(n,"GetEmployeePermissions")},XVXE:function(e,t,n){"use strict";n.r(t);var i=n("+VJP"),a=n("KOFX"),r=n("VPAf"),s={mixins:[i.a],data:function(){return{input:{permissions:[]},permissionsData:null}},watch:{"input.permissions":function(){this.onChangPermissions()},item:function(e){this.input.permissions=_.map(e.permissions,"name")}},mounted:function(){this.fetchPermissions(),this.find({withPermissions:!0})},methods:{onChangPermissions:function(){var e=this,t=e.input.permissions;e.permissionsData&&e.permissionsData.forEach((function(n){var i=!1,a=!0;n.values.forEach((function(n){var r=!1,s=!0;n.values.forEach((function(n){var o=!1,l=!0;n.values.forEach((function(e){_.includes(t,e.name)?(o=!0,r=!0,i=!0):(l=!1,s=!1,a=!1)})),e.$set(n,"_indeterminate",o),e.$set(n,"_value",l)})),e.$set(n,"_indeterminate",r),e.$set(n,"_value",s)})),e.$set(n,"_indeterminate",i),e.$set(n,"_value",a)}))},onChangeModule:function(e,t){var n=this;this.$set(t,"_value",e),t.values.forEach((function(i){n.onChangeSection(e,t,i)}))},onChangeSection:function(e,t,n){var i=this;this.$set(n,"_value",e),n.values.forEach((function(a){i.onChangeGroup(e,t,n,a)}))},onChangeGroup:function(e,t,n,i){var a=this;a.$set(i,"_value",e),i.values.forEach((function(t){e?!_.includes(a.input.permissions,t.name)&&a.input.permissions.push(t.name):a.input.permissions=_.remove(a.input.permissions,(function(e){return e!==t.name}))}))},calcModuleRowSpan:function(e){var t=0;return e.values.forEach((function(e){t+=e.values.length})),t},fetchPermissions:function(){var e=this;e.$query(r.GetEmployeePermissions,(function(t){var n=t.data;e.permissionsData=e.transformPermissionData(n),e.$nextTick((function(){e.onChangPermissions()}))}))},transformPermissionData:function(e){var t=this;return e.forEach((function(e){t.$set(e,"_value",!1),t.$set(e,"_indeterminate",!1),e.values.forEach((function(e){t.$set(e,"_value",!1),t.$set(e,"_indeterminate",!1),e.values.forEach((function(e){t.$set(e,"_value",!1),t.$set(e,"_indeterminate",!1)}))}))})),e}}},o=n("KHd+"),l=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-text",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Module")]),e._v(" "),n("th",[e._v("Section")]),e._v(" "),n("th",[e._v("Group")]),e._v(" "),n("th",[e._v("Permission")])])]),e._v(" "),n("tbody",[e._l(e.permissionsData,(function(t,i){return[e._l(t.values,(function(i,a){return[e._l(i.values,(function(r,s){return[n("tr",[0===a&&0===s?n("td",{attrs:{rowspan:e.calcModuleRowSpan(t)}},[n("v-checkbox",{staticClass:"my-0",attrs:{"hide-details":"",dense:"",indeterminate:t._indeterminate&&!t._value,label:t.name,value:t._value},on:{change:function(n){return e.onChangeModule(n,t)}}})],1):e._e(),e._v(" "),0===s?n("td",{attrs:{rowspan:i.values.length}},[n("v-checkbox",{staticClass:"my-0",attrs:{"hide-details":"",dense:"",indeterminate:i._indeterminate&&!i._value,label:i.name,value:i._value},on:{change:function(n){return e.onChangeSection(n,t,i)}}})],1):e._e(),e._v(" "),n("td",[n("v-checkbox",{staticClass:"my-0",attrs:{"hide-details":"",dense:"",indeterminate:r._indeterminate&&!r._value,label:r.name||"-",value:r._value},on:{change:function(n){return e.onChangeGroup(n,t,i,r)}}})],1),e._v(" "),n("td",[n("v-layout",{attrs:{wrap:""}},[e._l(r.values,(function(t){return[n("v-flex",{attrs:{grow:"",shrink:"","mr-2":"","py-0":""}},[n("v-checkbox",{staticClass:"my-0",attrs:{"hide-details":"",dense:"",value:t.name,label:t.display_name},model:{value:e.input.permissions,callback:function(t){e.$set(e.input,"permissions",t)},expression:"input.permissions"}})],1)]}))],2)],1)])]}))]}))]}))],2)]),e._v(" "),n("v-btn",{staticClass:"mt-5",attrs:{color:"primary",loading:e.isHandling},on:{click:function(t){return t.preventDefault(),e.update(t)}}},[e._v("Save")])],1)}),[],!1,null,null,null).exports,d={mixins:[i.a],data:function(){return{editor:a.a,tabActiveName:"permission"}},computed:{breadcrumbs:function(){return[{text:this.morphs,href:"/organization/roles"},{text:"Detail"}]},urls:function(){var e=this;return{edit:function(){e.showEditor()}}}},mounted:function(){this.find()},components:{TabPermission:l}},u=Object(o.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mc-container",{attrs:{breadcrumbs:e.breadcrumbs,urls:e.urls}},[n("v-card-text",[e.isLoading?n("v-skeleton-loader",{attrs:{type:"article"}}):e.item?n("v-simple-table",{staticClass:"mb-0"},[n("tbody",[n("tr",[n("td",{staticClass:"text-right font-weight-bold",attrs:{width:"25%"}},[e._v("ID")]),e._v(" "),n("td",[e._v("\n                    "+e._s(e.item[e.pk])+"\n                    "),n("mc-clipboard",{staticClass:"hover-action",attrs:{text:e.item[e.pk]}})],1)]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("Name")]),e._v(" "),n("td",[e._v(e._s(e.item.name))])]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("Created")]),e._v(" "),n("td",[e._v(e._s(e._f("formatLocalTime")(e.item.created_at)))])]),e._v(" "),n("tr",[n("td",{staticClass:"text-right font-weight-bold"},[e._v("Updated")]),e._v(" "),n("td",[e._v(e._s(e._f("formatLocalTime")(e.item.updated_at)))])])])]):e._e()],1),e._v(" "),n("v-divider"),e._v(" "),e.item?n("v-tabs",{model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[n("v-tab",{attrs:{href:"#permission"}},[e._v("Permission")]),e._v(" "),n("v-tab-item",{attrs:{value:"permission"}},[n("tab-permission",{attrs:{id:e.localId}})],1)],1):e._e()],1)}),[],!1,null,null,null);t.default=u.exports},bUC5:function(e,t,n){"use strict";n.r(t);var i=n("jE9Z"),a=n("orxd"),r=n("Ui0k"),s=n("g9/z"),o=n("vQ77"),l=n("b8Qa"),d=function(e,t){return!(!e||e.isPublisher)&&(!!e.is_owner||!!(t&&e.employee&&e.employee.permissions)&&e.employee.permissions.some((function(e){return new RegExp("^"+t.replace(/\-/g,"\\-").split("*").join(".*")+"$").test(e)})))},u=function(e,t){return"string"==typeof t?d(e,t):("function"==typeof t.forEach&&t.forEach((function(t){if(d(e,t))return!0})),!1)},m={computed:{},methods:{can:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user_id";if(!e||!t)return!0;var a=this.$root.user,r=e+"-"+t;return!(!u(a,r)&&!u(a,r+"-all"))||!!u(a,r+"-own")&&(n&&parseInt(n[i])===parseInt(a.id))}}},c=n("AFkt"),v={data:function(){return{miniVariant:!1,drawer:null}},mounted:function(){var e=document.querySelector("div.preloader");e&&(e.style.opacity=0,setTimeout((function(){e.remove()}),300))},computed:{items:function(){return[{icon:"fas fa-sitemap",text:"Organization",children:[{text:"Roles",url:"organization/roles",mp:"role",perm:"list-*"},{text:"Employees",url:"organization/employees",mp:"employee",perm:"list-*"}]},{icon:"fas fa-cogs",text:"Settings",children:[{text:"Account",url:"account"}]}]},isDark:{get:function(){var e="1"===localStorage.getItem("config.dark");return this.$vuetify.theme.dark=e,e},set:function(e){e?localStorage.setItem("config.dark","1"):localStorage.removeItem("config.dark"),this.$vuetify.theme.dark=e}}},methods:{toolbarSideClicked:function(){this.$vuetify.breakpoint.mdAndUp?(this.miniVariant=!this.miniVariant,this.drawer=!0):this.drawer=!this.drawer},canList:function(e){var t=this;return!!t.$root.isPublisher||(e.children?e.children.some((function(e){return t.can(e.mp,e.perm)})):t.can(e.mp,e.perm))},listGroupValue:function(e){return this.$route.matched.some((function(t){return e.children.some((function(e){return 1===t.path.indexOf(e.url)}))}))},logout:function(){this.$refs.logoutForm.submit()}}},p=n("KHd+"),f=Object(p.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-navigation-drawer",{attrs:{fixed:"",app:"","mini-variant":e.miniVariant},on:{"update:miniVariant":function(t){e.miniVariant=t},"update:mini-variant":function(t){e.miniVariant=t}},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-divider"),e._v(" "),n("div",{staticClass:"px-4 py-2 d-flex"},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.isDark=!e.isDark}}},[n("v-icon",[e._v("mdi-brightness-"+e._s(e.isDark?"4":"7"))])],1)],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list-item",[n("v-list-item-content",[e.$root.app.logo_image_url&&!e.isDark?n("v-img",{attrs:{src:e.$root.app.logo_image_url,"max-height":"58","aspect-ratio":4.5},scopedSlots:e._u([{key:"placeholder",fn:function(){return[n("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!1,4034393411)}):n("v-toolbar-title",{staticClass:"text-center font-weight-bold",staticStyle:{"line-height":"40px","font-size":"1.6rem"}},[e._v("\n                    "+e._s(e.$root.app.name)+"\n                ")])],1)],1),e._v(" "),n("v-divider"),e._v(" "),n("v-list",[e._l(e.items,(function(t){return e.canList(t)?[t.children?n("v-list-group",{attrs:{"no-action":"",value:e.listGroupValue(t),"prepend-icon":t.icon,exact:""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v(e._s(t.text))])]},proxy:!0}],null,!0)},[e._v(" "),e._l(t.children,(function(t,i){return e.canList(t)?n("v-list-item",{key:i,attrs:{dense:"",ripple:"",to:{path:"/"+t.url},link:"",exact:""}},[n("v-list-item-title",{domProps:{textContent:e._s(t.text)}}),e._v(" "),n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s(t.icon)}})],1)],1):e._e()}))],2):n("v-list-item",{key:t.url,attrs:{ripple:"",to:{path:"/"+t.url},link:"",exact:""}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),e._v(" "),n("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)]:e._e()}))],2)],1),e._v(" "),n("v-app-bar",{attrs:{app:"",dark:"",color:"primary"}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.$root.app.name))]),e._v(" "),n("v-spacer"),e._v(" "),n("v-menu",{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{text:""}},i),[n("span",{staticClass:"text-none",domProps:{textContent:e._s(e.$root.user.name)}}),e._v(" "),n("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}])},[e._v(" "),n("v-list",[n("v-list-item",[n("div",{staticClass:"ma-3"},[n("v-list-item-title",[e._v("\n                            "+e._s(e.$root.user.name)+"\n                        ")]),e._v(" "),n("v-list-item-subtitle",[e._v("\n                            "+e._s(e.$root.user.email)+"\n                        ")])],1)]),e._v(" "),n("v-divider"),e._v(" "),n("v-list-item",{attrs:{to:"/account",exact:""}},[n("v-list-item-title",[n("v-icon",[e._v("mdi-account")]),e._v(" Account\n                    ")],1)],1),e._v(" "),n("v-list-item",{attrs:{exact:""},on:{click:e.logout}},[n("v-list-item-title",[n("v-icon",[e._v("mdi-logout")]),e._v(" Logout\n                        "),n("form",{ref:"logoutForm",staticClass:"d-none",attrs:{action:e.url("logout"),method:"POST"}},[n("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:e.$root.csrfToken}})])],1)],1)],1)],1)],1),e._v(" "),n("v-main",[n("v-slide-x-reverse-transition",{attrs:{mode:"out-in"}},[n("keep-alive",[e.$route.meta.keepAlive?n("router-view"):e._e()],1)],1),e._v(" "),n("v-slide-x-reverse-transition",{attrs:{mode:"out-in"}},[e.$route.meta.keepAlive?e._e():n("router-view")],1),e._v(" "),n("v-footer",{attrs:{app:"",inset:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v("\n                    © "+e._s((new Date).getFullYear())+" - "),n("strong",[e._v(e._s(e.$root.user?e.$root.app.name:"Kuu"))]),e._v(". All rights reserved\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,k=n("EL2t");n("9Wh1"),Vue.use(i.a),Vue.use(r.a),Vue.use(s.a,{context:{vuetify:a.a}}),Vue.use(o.a),Vue.use(l.a),Vue.mixin(m);var _=new r.a({defaultClient:Object(k.a)(window.csrfToken)});new Vue({apolloProvider:_,vuetify:a.a}).$query(c.FindMeAndApp,{withApp:!0},(function(e){var t=e.me,r=e.app;t.isEmployee=!!t.employee;var s=function(e){var t=[],i=function(t){return u(e,t)};return i("role-list-*")&&t.push({path:"/organization/roles",component:n("h321").default,meta:{keepAlive:!0}}),i("role-read-*")&&t.push({path:"/organization/roles/:id(\\d+)",component:n("XVXE").default}),i("employee-list-*")&&t.push({path:"/organization/employees",component:n("7W3H").default,meta:{keepAlive:!0}}),i("employee-read-*")&&t.push({path:"/organization/employees/:id(\\d+)",component:n("PFq2").default}),t.push({path:"/account",component:n("1fMV").default,meta:{keepAlive:!0}}),t.push({path:"*",component:n("pAWr").default,meta:{keepAlive:!0}}),t}(t);s.push({path:"/",component:Vue.extend({template:"<i/>",created:function(){var e=s.find((function(e){return!e.path.match(/[:*]/)}));this.redirectToUrl(this.url(e?e.path:"404"))}})});var o=new i.a({mode:"history",routes:s});window.app=new Vue({router:o,vuetify:a.a,apolloProvider:_,el:"#app-wrapper",data:function(){return{routes:s,user:t,app:r,csrfToken:window.csrfToken}},render:function(e){return e(f)}})}))},fCLl:function(e,t,n){"use strict";var i=n("VPAf"),a=n("jKbj");t.a={mixins:[a.a],data:function(){return{model:"employee",queries:{create:i.create,find:i.find,list:i.list,update:i.update,all:i.all}}}}},h321:function(e,t,n){"use strict";n.r(t);var i=n("+VJP"),a=n("v4en"),r=n("KOFX"),s={mixins:[i.a,a.a],data:function(){return{editor:r.a}},computed:{tableProps:function(){return{itemKey:this.pk,fixedHeader:!0,height:600,sortBy:this.pk,sortDesc:!0,headers:[{text:"#",value:"id",width:120},{text:"Name",value:"name"},{text:"Created",value:"created_at"},{text:"Updated",value:"updated_at"}]}}},methods:{getDetailUrl:function(e){return this.url("organization/roles/".concat(e[this.pk]))}}},o=n("KHd+"),l=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mc-container",{attrs:{breadcrumbs:e.breadcrumbs,urls:e.urls}},[n("mc-data-table",{ref:"table",attrs:{query:e.queries.list,"table-props":e.tableProps},scopedSlots:e._u([{key:"item.id",fn:function(t){var i=t.item;return[n("span",{staticClass:"mr-1"},[e._v(e._s(i[e.pk]))]),e._v(" "),e.$canUpdate(i)?n("v-btn",{staticClass:"hover-action",attrs:{"x-small":"",icon:""},on:{click:function(t){return e.showEditor(i[e.pk])}}},[n("v-icon",[e._v("edit")])],1):e._e()]}},{key:"item.name",fn:function(t){var i=t.item;return[e.$canRead(i)?n("router-link",{attrs:{to:e.getDetailUrl(i)}},[e._v("\n                "+e._s(i.name)+"\n            ")]):[e._v("\n                "+e._s(i.name)+"\n            ")]]}}])})],1)}),[],!1,null,null,null);t.default=l.exports},jKbj:function(e,t,n){"use strict";var i=n("MDqk");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={mixins:[i.a],props:["id"],data:function(){return{pk:"id",model:"",models:"",morph:"",morphs:"",visible:!0,item:null,input:{}}},watch:{model:{handler:function(e){var t=this;t.models=t.models||e+"s",t.morph=t.morph||_.startCase(_.camelCase(e)),t.morphs=t.morphs||_.startCase(_.camelCase(t.models))},immediate:!0}},computed:{$form:function(){return this.$refs.form},localId:function(){return this.id||this.$route&&parseInt(this.$route.params.id)||null},title:function(){return(this.localId?"Edit":"Add")+" "+this.morph},canList:function(){return this.$canList(this.item)},canRead:function(){return this.$canRead(this.item)},canUpdate:function(){return this.$canUpdate(this.item)},canDelete:function(){return this.$canDelete(this.item)},canEnable:function(){return this.$canEnable(this.item)},canDisable:function(){return this.$canDisable(this.item)}},methods:{showEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=t.mountComponent(t.editor,{propsData:{id:e||t.localId||void 0}});n.$on("saved",(function(e){t.doRefreshTable?t.doRefreshTable(e):t.find()}))},find:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;t.addLoading();var n={};_.isObject(e)?_.assign(n,e):null!==e&&(n.id=e),n.id||(n.id=t.localId),t.$query(t.queries.find,n,(function(e){var n=e.data;t.item=n,t.assignInput(n)})).finally((function(){return t.doneLoading()}))},assignInput:function(e){this.input=_.assignPick(this.input,e)},create:function(){var e=this;e.addHanding(),e.$mutate(e.queries.create,{input:e.input},{form:e.$form,success:function(t){var n=t.data;e.onModelSaved(n)}}).finally((function(){return e.doneHanding()}))},update:function(){this.updateItem(this.localId,this.input)},updateItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,i=a({},n.pk,_.isObject(e)?e[n.pk]:e);_.isString(t)?i[t]=e[t]:_.isArray(t)?t.forEach((function(t){i[t]=e[t]})):_.isObject(t)&&_.assign(i,t),n.addHanding(),n.$mutate(n.queries.update,{input:i},{form:n.$form,success:function(e){var t=e.data;n.onModelSaved(t,!0)}}).finally((function(){return n.doneHanding()}))},del:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;t.appConfirmDelete((function(){t.addHanding(),t.$mutate(t.queries.del,a({},t.pk,e||t.localId),(function(e){e.data;t.doRefreshTable?t.doRefreshTable():t.find()})).finally((function(){return t.doneHanding()}))}))},onFormSubmit:function(){this.localId?this.update():this.create()},onModelSaved:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;t?(n.appMessageSuccess("Update ".concat(n.morph," Successfully.")),n.$emit("update",e)):(n.appMessageSuccess("Create ".concat(n.morph," Successfully.")),n.$emit("create",e)),n.visible=!1,n.$emit("saved",e)},assignInputData:function(e,t){var n=_.cloneDeep(e);return this.localId&&(n=_.assign({},n,t||{})),n},$canAction:function(e,t){return this.can(this.model,e,t)},$canList:function(e){return this.$canAction("list",e)},$canRead:function(e){return this.$canAction("read",e)},$canUpdate:function(e){return this.$canAction("update",e)},$canDelete:function(e){return this.$canAction("delete",e)},$canEnable:function(e){return this.$canAction("enable",e)},$canDisable:function(e){return this.$canAction("disable",e)}}}},pAWr:function(e,t,n){"use strict";n.r(t);var i={mounted:function(){}},a=n("KHd+"),r=Object(a.a)(i,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"card card-default"},[t("div",{staticClass:"card-header"},[this._v("404 Page Not Found!")]),this._v(" "),t("div",{staticClass:"card-body"})])])])])}],!1,null,null,null);t.default=r.exports},pyCd:function(e,t){},v4en:function(e,t,n){"use strict";var i={computed:{$table:function(){return this.$refs.table}},methods:{doRefreshTable:function(){var e=this;this.$nextTick((function(){e.$table.fetchData()}))}}};t.a={mixins:[i],computed:{breadcrumbs:function(){return[{text:this.morphs}]},urls:function(){var e=this;return{add:function(){return e.showEditor()}}}}}}},[[0,0,1]]]);
